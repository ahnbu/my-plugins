# Handoff — 플러그인 중복 등록 해결 (세션 05)
> 날짜: 2026-02-26
> 세션 ID: c6ea7dee-cf5d-448c-9788-150846eefe35
> 상태: 전체완료

---

## 1. 현재 상태

### 작업 목표
- `document-skills`와 `example-skills` 플러그인 중복 등록 원인 파악 및 해결

### 진행 현황
| 단계 | 상태 | 산출물 |
|------|------|--------|
| 중복 증상 확인 | ✅ 완료 | - |
| 두 플러그인 파일 구조 비교 | ✅ 완료 | - |
| marketplace.json 설계 분석 | ✅ 완료 | - |
| anthropics/skills 레포 구조 조사 | ✅ 완료 | - |
| 라이선스 차이 확인 | ✅ 완료 | - |
| 해결 (example-skills disable) | ✅ 완료 | - |
| 문서화 및 커밋 | ✅ 완료 | `docs/플러그인 중복호출 문제해결_example_skills_20260226.md` |

### 핵심 의사결정 로그
- [결정 1] marketplace.json 수정 대신 `example-skills` disable 채택. 이유: 더 간단하고 안전하며, disable만으로도 16개 스킬 전부 정상 작동 확인
- [결정 2] uninstall 대신 disable 선택. 이유: 기능 동일, 언제든 되돌릴 수 있음

### 다음 세션 시작점
- 없음. 작업 완료.

---

## 2. 변경 내역 (이번 세션)

- `docs/플러그인 중복호출 문제해결_example_skills_20260226.md` 신규 생성
  - 중복 원인, 분석 과정, 해결 방법, 검증 결과 포함
- `example-skills` 플러그인 → disable (Claude Code `/plugin` 메뉴에서)

---

## 3. 피드백 루프
> ⚠️ 이 섹션은 AI 초안입니다. 검토·수정해 주세요.

### 잘된 점
- 사용자가 직접 테스트(example-skills disable → 16개 스킬 확인)해서 이론을 증명함
- 임시 대처(marketplace.json 수정)가 아닌 근본 해결(disable)로 방향 전환

### 문제·병목
- 초반에 두 플러그인의 파일 분포가 다르다고 잘못 판단 → `/plugin` 실제 조회 결과로 수정
- marketplace.json이 상대 플러그인도 등록한다는 것을 파일만 보고 바로 파악하지 못함

### 레슨 (재사용 가능한 교훈)
- [플러그인 분석]에서는 파일 시스템 구조만이 아니라 `/plugin` 실제 조회 결과를 함께 봐야 정확
- [marketplace.json `"source": "./"` 패턴]에서는 양쪽 플러그인이 같은 루트를 공유하므로 한쪽만 활성화해도 전체 스킬 등록

---

## 4. 다음 세션 작업
- **없음**: 이번 작업 완결

---

## 5. 발견 & 교훈

- **발견**: `anthropics/skills` 레포의 marketplace.json은 `document-skills`(Proprietary)와 `example-skills`(Apache 2.0) 두 가지를 라이선스 분리 목적으로 나눠 선언함. 하나만 활성화해도 16개 스킬 전부 사용 가능.
- **발견**: Claude Code는 marketplace.json 선언 기준으로 스킬을 등록하며, 실제 파일 존재 여부는 별도로 검증하지 않음 (유령 스킬 등록 가능)

---

## 6. 환경 스냅샷

- **플러그인 상태**:
  - `document-skills@anthropic-agent-skills` v1ed29a03dc85 → **Enabled** (16개 스킬 전부 포함)
  - `example-skills@anthropic-agent-skills` v1ed29a03dc85 → **Disabled** (중복 방지)
- **워크어라운드**: `example-skills`는 활성화하지 말 것. 활성화 시 32개 중복 등록 재발.
